â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      URSUS COMPLETE SYSTEM DIAGRAM                         â•‘
â•‘                    Stripe Connect Payment Gateway v2.0                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PART 1: CONFIGURATION PHASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

       YOU HAVE 3 STRIPE KEYS
              â”‚
              â”‚  sk_live_...
              â”‚  acct_...
              â”‚  whsec_...
              â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  Configuration  â”‚
       â”‚      App        â”‚
       â”‚                 â”‚
       â”‚ Port 5000       â”‚
       â”‚ (Web Browser)   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚  Form submission
                â”‚  Validation âœ“
                â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚     config_app.py           â”‚
       â”‚                             â”‚
       â”‚  â€¢ Validate sk_ prefix      â”‚
       â”‚  â€¢ Validate acct_ prefix    â”‚
       â”‚  â€¢ Validate whsec_ prefix   â”‚
       â”‚  â€¢ Read existing .env       â”‚
       â”‚  â€¢ Update with new values   â”‚
       â”‚  â€¢ Save to disk             â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â†“
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚     .env File               â”‚
       â”‚  /home/ursus/ursus/.env    â”‚
       â”‚                             â”‚
       â”‚ STRIPE_SECRET_KEY=...       â”‚
       â”‚ STRIPE_WEBHOOK_SECRET=...   â”‚
       â”‚ CONNECTED_ACCOUNT_ID=...    â”‚
       â”‚ URSUS_API_KEY=...           â”‚
       â”‚ PLATFORM_NAME=...           â”‚
       â”‚ CONNECTED_NAME=...          â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PART 2: RUNTIME PHASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         INTERNET / CUSTOMERS                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                               â”‚
                   â”‚ POST /create-payment-intent   â”‚ POST /webhook
                   â”‚ (Customer payment)            â”‚ (Stripe event)
                   â”‚                               â”‚
                   â†“                               â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Nginx Reverse Proxy     â”‚   â”‚  Nginx Reverse Proxy     â”‚
        â”‚  (HTTPS - Port 443)      â”‚   â”‚  (HTTPS - Port 443)      â”‚
        â”‚                          â”‚   â”‚                          â”‚
        â”‚ â€¢ SSL/TLS Encryption     â”‚   â”‚ â€¢ SSL/TLS Encryption     â”‚
        â”‚ â€¢ Reverse Proxy          â”‚   â”‚ â€¢ Reverse Proxy          â”‚
        â”‚ â€¢ Rate Limiting          â”‚   â”‚ â€¢ Rate Limiting          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                                â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â†“
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚      Gunicorn WSGI Server        â”‚
                â”‚  (Port 4242 - localhost only)    â”‚
                â”‚                                  â”‚
                â”‚  â€¢ 4 Worker Processes            â”‚
                â”‚  â€¢ 2 Threads per Worker          â”‚
                â”‚  â€¢ 30 second timeout             â”‚
                â”‚  â€¢ Max 1000 requests per worker  â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                         â”‚
              â†“                         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      app.py          â”‚  â”‚   config_app.py      â”‚
    â”‚   (Main Gateway)     â”‚  â”‚ (Configuration UI)   â”‚
    â”‚   Port 4242          â”‚  â”‚   Port 5000          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   â”‚              â”‚              â”‚
    â†“                   â†“              â†“              â†“
 Load .env    Create     Process      Handle       Health
 Read keys    Payment    Webhooks     Refunds      Check
 Initialize  Intents    Transfers    Logging
             (Flask)


PART 3: PAYMENT FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CUSTOMER FLOW:

    ğŸ‘¤ Customer
        â”‚
        â”‚ Pays with card
        â”‚
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         YOUR URSUS APPLICATION                      â”‚
    â”‚  POST /create-payment-intent (Authenticated)        â”‚
    â”‚         Amount: $100                                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â”‚ Requests from Stripe API
                   â”‚ (using STRIPE_SECRET_KEY)
                   â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚              STRIPE PLATFORM ACCOUNT                     â”‚
    â”‚  (Your Account - Merchant of Record)                     â”‚
    â”‚                                                          â”‚
    â”‚  Creates PaymentIntent                                  â”‚
    â”‚  Receives payment: $100                                 â”‚
    â”‚  Publishes webhook event: charge.succeeded             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ Webhook event (HTTPS)
               â”‚ Signature: whsec_...
               â”‚
               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         YOUR URSUS APPLICATION                       â”‚
    â”‚  POST /webhook (Stripe Webhook Handler)              â”‚
    â”‚                                                      â”‚
    â”‚  1. Verify signature (whsec_...)           âœ“        â”‚
    â”‚  2. Extract charge ID & amount             âœ“        â”‚
    â”‚  3. Calculate fees:                        âœ“        â”‚
    â”‚     - Stripe: 2.9% + $0.30 = $3.20                 â”‚
    â”‚     - Platform: 1% of net = $0.97                  â”‚
    â”‚     - Vendor: remainder = $95.83                   â”‚
    â”‚  4. Check idempotency (already transferred?) âœ“     â”‚
    â”‚  5. Create transfer to vendor               âœ“      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ Transfer request from Stripe API
                     â”‚ (using STRIPE_SECRET_KEY)
                     â”‚ Amount: $95.83
                     â”‚ Destination: CONNECTED_ACCOUNT_ID
                     â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           STRIPE CONNECTED ACCOUNT                   â”‚
    â”‚  (Vendor's Stripe Account)                           â”‚
    â”‚                                                      â”‚
    â”‚  Receives transfer: $95.83                           â”‚
    â”‚  Transaction logged                                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MONEY BREAKDOWN:

    $100.00 (Customer Payment)
        â”‚
        â”œâ”€ $3.20 (Stripe Fee: 2.9% + $0.30) â†’ Stripe
        â”‚
        â”œâ”€ $0.97 (Platform Commission: 1%) â†’ You/Platform
        â”‚
        â””â”€ $95.83 (Vendor Share) â†’ Connected Account âœ“

RESULT: Automatic, no manual transfers! âœ…


PART 4: SYSTEM MONITORING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Systemd Service (ursus.service)
    â”‚
    â”œâ”€ Type: notify
    â”œâ”€ User: ursus
    â”œâ”€ WorkingDirectory: /home/ursus/ursus
    â”œâ”€ ExecStart: gunicorn ...
    â”œâ”€ Restart: always
    â”œâ”€ RestartSec: 10
    â”‚
    â””â”€ Monitoring:
        â”‚
        â”œâ”€ Health Check Endpoint
        â”‚  â””â”€ GET /health
        â”‚     â””â”€ Returns: {"status": "healthy", "stripe_connected": true}
        â”‚
        â”œâ”€ Log Rotation (/etc/logrotate.d/ursus)
        â”‚  â””â”€ Daily rotation, 14-day retention, compression
        â”‚
        â”œâ”€ Fail2Ban Security (/etc/fail2ban/jail.local)
        â”‚  â””â”€ Ban IPs after 5 failed auth attempts for 1 hour
        â”‚
        â”œâ”€ Cron Monitoring (Every 5 minutes)
        â”‚  â””â”€ Check: Health, Disk Usage, Memory Usage
        â”‚     â””â”€ Auto-restart if failed
        â”‚
        â””â”€ Logging
           â”œâ”€ /var/log/ursus/access.log (HTTP requests)
           â”œâ”€ /var/log/ursus/error.log (Errors)
           â””â”€ /var/log/ursus/monitor.log (Health checks)


PART 5: SECURITY LAYERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    REQUEST INCOMING
        â”‚
        â””â”€â†’ Layer 1: Firewall (UFW)
            â””â”€ Allow: 22 (SSH), 80 (HTTP), 443 (HTTPS)
               Block: Everything else
                â”‚
                â””â”€â†’ Layer 2: Nginx (Reverse Proxy)
                    â””â”€ SSL/TLS Encryption
                       Rate Limiting (global)
                       Security Headers
                        â”‚
                        â””â”€â†’ Layer 3: Gunicorn (WSGI)
                            â””â”€ Process isolation
                               Worker limits
                               Timeout protection
                                â”‚
                                â””â”€â†’ Layer 4: Application (app.py)
                                    â”‚
                                    â”œâ”€ API Endpoints:
                                    â”‚  â””â”€ Require X-API-Key header
                                    â”‚     Rate limit: 10/min
                                    â”‚
                                    â”œâ”€ Webhooks:
                                    â”‚  â””â”€ Verify Stripe signature (whsec_...)
                                    â”‚     Rate limit: 1000/hr
                                    â”‚
                                    â”œâ”€ Input Validation:
                                    â”‚  â””â”€ Amount range check
                                    â”‚     Email format validation
                                    â”‚     String sanitization
                                    â”‚
                                    â”œâ”€ Idempotency:
                                    â”‚  â””â”€ Track processed charges
                                    â”‚     Prevent duplicate transfers
                                    â”‚
                                    â””â”€ Error Handling:
                                       â””â”€ No stack traces in responses
                                          Secure error messages
                                          Suspicious activity logging
                                            â”‚
                                            â””â”€â†’ Layer 5: Fail2Ban
                                                â””â”€ Monitor error logs
                                                   Ban after 5 attempts
                                                   1 hour ban time


PART 6: FILES & DIRECTORIES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

On Your Local Machine:
    /Users/aziz/Documents/ursus/
    â”œâ”€â”€ ğŸ“„ Documentation (8 files)
    â”‚   â”œâ”€â”€ START_HERE.md
    â”‚   â”œâ”€â”€ README.md
    â”‚   â”œâ”€â”€ SETUP_GUIDE.md
    â”‚   â”œâ”€â”€ QUICK_REFERENCE.txt
    â”‚   â”œâ”€â”€ ARCHITECTURE.md
    â”‚   â”œâ”€â”€ DEPLOYMENT_CHECKLIST.md
    â”‚   â”œâ”€â”€ CONFIG_README.md
    â”‚   â””â”€â”€ FILE_INDEX.md
    â”‚
    â”œâ”€â”€ ğŸ Code
    â”‚   â”œâ”€â”€ app.py (582 lines)
    â”‚   â”œâ”€â”€ config_app.py (150 lines)
    â”‚   â””â”€â”€ requirements.txt
    â”‚
    â”œâ”€â”€ ğŸ¨ Frontend
    â”‚   â””â”€â”€ templates/index.html (250 lines)
    â”‚
    â””â”€â”€ ğŸš€ Deployment
        â”œâ”€â”€ deploy.sh
        â”œâ”€â”€ fix_deployment.sh
        â”œâ”€â”€ run_config.sh
        â””â”€â”€ env.example

On Your VPS Server (After deployment):
    /home/ursus/ursus/
    â”œâ”€â”€ app.py
    â”œâ”€â”€ config_app.py
    â”œâ”€â”€ .env (Your secure configuration)
    â”œâ”€â”€ venv/ (Python virtual environment)
    â”œâ”€â”€ requirements.txt
    â””â”€â”€ templates/
        â””â”€â”€ index.html

    /var/log/ursus/
    â”œâ”€â”€ access.log (HTTP requests)
    â”œâ”€â”€ error.log (Application errors)
    â””â”€â”€ monitor.log (Health checks)

    /etc/
    â”œâ”€â”€ systemd/system/ursus.service
    â”œâ”€â”€ nginx/sites-available/ursus
    â”œâ”€â”€ nginx/sites-enabled/ursus (symlink)
    â”œâ”€â”€ logrotate.d/ursus
    â”œâ”€â”€ fail2ban/jail.local
    â””â”€â”€ fail2ban/filter.d/ursus-auth.conf


PART 7: DATA FLOW SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                        Configuration Phase
                        â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    Browser (http://localhost:5000)
        â”‚
        â”‚ Form with 3 keys
        â”‚ (Beautiful UI)
        â†“
    config_app.py
        â”‚
        â”‚ Validate format
        â”‚ Validate content
        â”‚ Read .env
        â”‚ Update values
        â†“
    .env File
    (Persistent)


                        Runtime Phase
                        â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    Stripe Platform Account
        â”‚
        â”‚ Receives payment
        â”‚ Creates charge
        â”‚ Publishes webhook
        â†“
    URSUS Application
        â”‚
        â”‚ Verify webhook signature
        â”‚ Calculate fees
        â”‚ Check idempotency
        â”‚ Create transfer
        â†“
    Stripe Connected Account
        â”‚
        â”‚ Receives transfer
        â”‚ Settles to vendor
        â†“
    Vendor Bank Account
    (Vendor receives money)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

QUICK REFERENCE:

Configuration:
  â€¢ Browser: http://localhost:5000
  â€¢ Backend: config_app.py (Flask, port 5000)
  â€¢ Storage: .env file (/home/ursus/ursus/.env)

Runtime:
  â€¢ Frontend: Web browser or API client
  â€¢ Backend: app.py (Flask, port 4242 via Gunicorn)
  â€¢ Reverse Proxy: Nginx (HTTPS, port 443)

Security:
  â€¢ API Auth: X-API-Key header
  â€¢ Webhook Auth: Stripe signature (whsec_...)
  â€¢ Encryption: HTTPS/TLS
  â€¢ Rate Limiting: 10/min (payments), 1000/hr (webhooks)
  â€¢ Monitoring: Systemd, Fail2Ban, Cron health checks

Monitoring:
  â€¢ Health: GET /health
  â€¢ Logs: journalctl -u ursus -f
  â€¢ Status: systemctl status ursus

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Made with â¤ï¸ for seamless Stripe Connect integration.
URSUS v2.0 | Production Ready âœ“

